ID,Приоритет,Предусловия,Заголовок,Тестовые данные,Шаги выполнения,Ожидаемый результат
Позитивные проверки,,,,,,
1.,high,"Headers request: 
 Content-Type: application/json
  
 Accept: application/json",Начисление баллов клиенту за покупку,"{customer_id} = 123
 
 request body:
 { “amount”: 3000 }",1. Отправить метод POST /api/customer/{customer_id}/purchase,Запрос успешно отправлен на сервер
,,,,,2. Проверить код состояния,HTTP Status: 200 OK
,,,,,3. Проверить тело ответа от сервера,В теле ответа от сервера вернулось обновленное количество бонусных баллов клиента: 3
2.,high,"Headers request: 
 Content-Type: application/json
  
 Accept: application/json",Получение текущего количества баллов указанного клиента,{customer_id} = 123,1. Отправить метод GET /api/customer/{customer_id}/points,Запрос успешно отправлен на сервер
,,,,,,
,,,,,2. Проверить код состояния,HTTP Status: 200 OK
,,,,,,
,,,,,3. Проверить тело ответа от сервера,В теле ответа от сервера вернулось корректное количество баллов для клиента с ID 123.
3.,high,"Headers request: 
 Content-Type: application/json
  
 Accept: application/json",Расчет скидки при количестве баллов от 0 до 149,"request body:
 { “points”: 0 } или
 { “points”: 100 } или
 { “points”: 149 }",1. Отправить метод POST /api/discount/calculate,Запрос успешно отправлен на сервер
,,,,,,
,,,,,,
,,,,,2. Проверить код состояния,HTTP Status: 200 OK
,,,,,3. Проверить тело ответа от сервера,В теле ответа от сервера вернулось : 1%
4.,high,"Headers request: 
 Content-Type: application/json
  
 Accept: application/json",Расчет скидки при количестве баллов от 150 до 199,"request body:
 { “points”: 150 } или
 { “points”: 175 } или 
 { “points”: 199 }",1. Отправить метод POST /api/discount/calculate,Запрос успешно отправлен на сервер
,,,,,,
,,,,,,
,,,,,2. Проверить код состояния,HTTP Status: 200 OK
,,,,,3. Проверить тело ответа от сервера,В теле ответа от сервера вернулось : 5%
5.,high,"Headers request: 
 Content-Type: application/json
  
 Accept: application/json",Расчет скидки при количестве баллов от 200 до 399,"request body: 
 { “points”: 200 } или { “points”: 299 } или { “points”: 399 }",1. Отправить метод POST /api/discount/calculate,Запрос успешно отправлен на сервер (или запрос успешно иницирован)
,,,,,,
,,,,,2. Проверить код состояния,HTTP Status: 200 OK
,,,,,3. Проверить тело ответа от сервера,В теле ответа от сервера вернулось : 7%.
6.,middle,"Headers request: 
 Content-Type: application/json
  
 Accept: application/json",Расчет скидки при количестве баллов от 400 и больше,"request body: 
 { “points”: 400 } или { “points”: 401 } или",1. Отправить метод POST /api/discount/calculate,Запрос успешно отправлен на сервер
,,,,,,
,,,,,2. Проверить код состояния,HTTP Status: 200 OK
,,,,,3. Проверить тело ответа от сервера,В теле ответа от сервера вернулось : 10%
Негативные тест-кейсы,,,,,,
7.,middle,"Headers request: 
 Content-Type: application/json
  
 Accept: application/json",Начисление баллов при нулевой сумме покупки,"{customer_id} = 789
 
 request body:
 { ""amount"": 0 }",1. Отправить метод POST /api/customer/{customer_id}/purchase,Запрос успешно отправлен на сервер
,,,,,,
,,,,,,
,,,,,2. Проверить код состояния,HTTP Status: 200 OK
,,,,,,
,,,,,3. Проверить тело ответа от сервера,"Клиент не получает баллы при нулевой сумме покупки, В теле ответа от сервера вернулось: 0"
8.,middle,"Headers request: 
 Content-Type: application/json 
 
 Accept: application/json",Получение баллов для несуществующего клиента,{customer_id} = 999,1. Отправить метод GET /api/customer/{customer_id}/points,Запрос отправлен на сервер
,,,,,,
,,,,,2. Проверить код состояния,HTTP Status: 404 Not Found
,,,,,"3. Проверить, что в ответе вернулась ошибка","В теле ответа от сервера вернулось: {
  ""status"": 404,
  ""error"": ""Not Found"",
  ""path"": ""/api/customer/999/points""
 }"
9.,middle,"Headers request: 
 Content-Type: application/json
 
  Accept: application/json",Начисление баллов при отрицательной сумме покупки,"{customer_id} = 456 
 
 request body:
 { “amount”: -1000 }",1. Отправить метод POST /api/customer/{customer_id}/purchase,Запрос отправлен на сервер
,,,,,,
,,,,,,
,,,,,2. Проверить код состояния,"""HTTP Status: 400 Bad Request"
,,,,,"3. Проверить, что в ответе вернулась ошибка","В теле ответа от сервера вернулось:
 {
  ""status"": 400,
  ""error"": ""Bad Request"",
  ""path"": ""/api/customer/456/purchase""
 }"
,,,,,,
10.,middle,"Headers request: 
 
 Content-Type: application/XML 
 
 Accept: application/json",Вызов метода POST Начисление баллов клиенту за покупку c телом JSON и c content-type = XML,"{customer_id} = 123
 
 request body:
 { “amount”: 3000 }",1. Отправить метод POST /api/customer/{customer_id}/purchase,Запрос отправлен на сервер
,,,,,2. Проверить код состояния,HTTP Status: 415 Unsupported Media Type
,,,,,"3. Проверить, что в ответе вернулась ошибка","В теле ответа от сервера вернулось: 
 {
  ""error"": ""Unsupported media type"",
  ""message"": ""The requested media type is not supported.""
 }"
11,middle,"Headers request: 
 
 Content-Type: application/json 
 
 Accept: application/json",Расчет скидки при количестве баллов -1,"""request body:
 { “points”: -1}",1. Отправить метод POST /api/discount/calculate,Запрос отправлен на сервер
,,,,,2. Проверить код состояния,HTTP Status: 400 Bad Request
,,,,,"3. Проверить, что в ответе вернулась ошибка","В теле ответа от сервера вернулось: 
 {
  ""error"": ""Invalid points value. Points must be a positive integer.""
 }"
